<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QuickMCP - Manage Servers</title>

  <!-- Tailwind (dev only) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <!-- Shared CSS -->
  <link rel="stylesheet" href="quickmcp-styles.css">
  <script>tailwind.config = { darkMode: 'class' };</script>
</head>

<body class="h-screen flex flex-col bg-gradient-to-br from-slate-50 to-slate-100 overflow-hidden text-slate-900">
  <!-- App Bar -->
  <header class="backdrop-blur-sm bg-white/80 border-b border-slate-200/60 shadow-sm relative z-50 h-16 flex-shrink-0 flex items-center justify-between px-6 py-3">
    <div class="flex items-center gap-6">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-lg bg-blue-600 text-white flex items-center justify-center shadow-lg shadow-blue-500/25">
          <i class="fas fa-rocket text-lg"></i>
        </div>
        <div>
          <h1 class="text-xl font-bold gradient-text leading-tight">QuickMCP</h1>
          <p class="text-xs text-slate-500 font-medium">Server Generator</p>
        </div>
      </div>
      <div class="h-8 w-px bg-gradient-to-b from-transparent via-slate-300 to-transparent hidden md:block"></div>
      <div class="hidden md:flex items-center gap-2 text-sm font-medium text-slate-600">
        <button id="headerNewServerBtn" onclick="window.location.href='/'" class="md:inline-flex items-center gap-2 bg-white border border-slate-200 hover:border-blue-400 text-slate-700 hover:text-blue-600 px-4 py-2 rounded-lg font-medium transition-colors shadow-sm">
          <i class="fas fa-plus"></i>
          <span>New Server</span>
        </button>
      </div>
    </div>
    <div class="flex items-center gap-3">
      <div class="hidden sm:flex items-center gap-2 bg-green-50 text-green-700 px-3 py-1.5 rounded-lg text-sm font-medium border border-green-200/50">
        <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
        <span>System Online</span>
      </div>
      <button class="p-2 rounded-lg hover:bg-slate-100 transition-colors relative text-slate-500 hover:text-slate-700">
        <i class="fas fa-bell"></i>
        <span class="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white"></span>
      </button>
      <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 text-white flex items-center justify-center text-sm font-bold shadow-md" data-user-avatar>G</div>
      <button id="openSidebar" class="lg:hidden p-2 rounded-lg hover:bg-slate-100 transition-colors text-slate-500">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- Layout -->
    <div class="flex flex-1 overflow-hidden" id="app">
    <!-- Shared Sidebar mount -->
    <div id="sidebar" class="w-72 bg-white/95 backdrop-blur-sm border-r border-slate-200/60 flex flex-col flex-shrink-0 z-40 fixed inset-y-0 left-0 transform -translate-x-full lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out lg:h-auto h-full pt-16 lg:pt-0"></div>
    <div id="sidebarOverlay" class="fixed inset-0 bg-slate-900/50 backdrop-blur-sm z-30 lg:hidden opacity-0 invisible transition-all duration-300"></div>

    <!-- Content -->
    <div class="flex-1 relative bg-slate-50/50 overflow-hidden flex flex-col min-w-0">
      <div class="absolute inset-0 shadow-inner shadow-slate-200/30 pointer-events-none z-10"></div>
      <div class="flex-1 overflow-y-auto scrollbar-modern p-8 pr-20 relative z-0">
        <div class="max-w-6xl mx-auto space-y-8 pb-20">
          <!-- Filters -->
          <div class="card p-4">
            <div class="flex flex-wrap items-end gap-3">
              <div class="flex-1 min-w-[200px]">
                <label class="block text-xs font-bold text-slate-700 uppercase mb-1">Search</label>
                <input id="serverSearch" type="text" placeholder="Search servers by name or description" class="input" />
              </div>
              <div>
                <label class="block text-xs font-bold text-slate-700 uppercase mb-1">Type</label>
                <select id="serverTypeFilter" class="input w-40">
                  <option value="">All</option>
                  <option value="mssql">SQL Server</option>
                  <option value="mysql">MySQL</option>
                  <option value="postgresql">PostgreSQL</option>
                  <option value="sqlite">SQLite</option>
                </select>
              </div>
              <div>
                <label class="block text-xs font-bold text-slate-700 uppercase mb-1">Version</label>
                <input id="serverVersionFilter" type="text" placeholder="e.g. 1.0" class="input w-36" />
              </div>
              <div>
                <label class="block text-xs font-bold text-slate-700 uppercase mb-1">Min Tools</label>
                <input id="minToolsFilter" type="number" min="0" class="input w-28" />
              </div>
              <div>
                <label class="block text-xs font-bold text-slate-700 uppercase mb-1">Min Resources</label>
                <input id="minResourcesFilter" type="number" min="0" class="input w-28" />
              </div>
              <div>
                <label class="block text-xs font-bold text-slate-700 uppercase mb-1">Sort</label>
                <select id="serverSortSelect" class="input w-40">
                  <option value="name-asc">Name A→Z</option>
                  <option value="name-desc">Name Z→A</option>
                  <option value="tools-desc">Tools High→Low</option>
                  <option value="tools-asc">Tools Low→High</option>
                  <option value="resources-desc">Resources High→Low</option>
                  <option value="resources-asc">Resources Low→High</option>
                </select>
              </div>
              <div class="ml-auto flex items-center gap-2">
                <span id="serverSearchCount" class="text-xs text-slate-500"></span>
                <button id="clearServerFilters" class="px-3 py-2 rounded-lg border border-slate-200 text-slate-700 hover:border-blue-400 hover:text-blue-600 transition-colors text-sm">Clear</button>
              </div>
            </div>
          </div>

          <!-- Server list -->
          <div id="server-list" class="space-y-0"></div>
        </div>
      </div>
      <!-- Right overlay details panel inside content area (does not cover App Bar) -->
      <div id="server-details-panel" class="absolute inset-y-0 right-0 w-[28rem] max-w-full bg-white shadow-2xl border-l border-slate-200 z-[60] flex flex-col transition-transform duration-300 ease-out"></div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="shared.js"></script>
  <script src="sidebar.js"></script>
  <script src="app.js"></script>
</body>

</html>
